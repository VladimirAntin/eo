<div *ngIf="chat!=null" class="container-fluid">
  <mat-accordion>
    <mat-expansion-panel class="bg-light">
      <mat-expansion-panel-header>
        <mat-panel-title>
          Add new Message
        </mat-panel-title>
        <mat-panel-description>
          <mat-icon>add</mat-icon>
        </mat-panel-description>
      </mat-expansion-panel-header>
      <mat-form-field class="w-90 f20">
        <mat-icon matPrefix>search</mat-icon>
        <input matInput placeholder="Filter" [(ngModel)]="filter">
      </mat-form-field>
      <mat-list>
        <a mat-list-item *ngFor="let u of users | search:'ime,prezime,username,type':filter"
           [routerLink]="[u.id]">
          <mat-icon mat-list-icon>person</mat-icon>
          <h4 mat-line><i>{{u.ime + ' '+ u.prezime}}</i> <b>{{u.type}}</b></h4>
          <mat-divider></mat-divider>
        </a>
      </mat-list>
    </mat-expansion-panel>
  </mat-accordion>

  <mat-nav-list>
    <a mat-list-item *ngFor="let c of chat" [routerLink]="[c.id]">
      <img [src]="c.href" mat-list-icon>
      <i mat-line><a mat-button [routerLink]="['/users',c.username]">
        <h4>{{c.ime + ' '+ c.prezime}}</h4>
      </a></i>
      <span class="badge badge-pill badge-dark" *ngIf="c.unread!=0">{{c.unread}}</span>
      <mat-divider></mat-divider>
    </a>
  </mat-nav-list>
</div>
<app-not-found *ngIf="chat===null" class="not-found"></app-not-found>
